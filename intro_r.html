<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Paul Esker; Mauricio Serrano; Mladen Cucak; Felipe Dalla Lana" />


<title>Intro to R - From 0 to Tidyverse</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #2a211c;
    color: #bdae9d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #bdae9d;  padding-left: 4px; }
div.sourceCode
  { color: #bdae9d; background-color: #2a211c; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffff00; } /* Alert */
code span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #44aa43; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code span.ch { color: #049b0a; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code span.do { color: #0066ff; font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.dv { color: #44aa43; } /* DecVal */
code span.er { color: #ffff00; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #44aa43; } /* Float */
code span.fu { color: #ff9358; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code span.op { } /* Operator */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.sc { color: #049b0a; } /* SpecialChar */
code span.ss { color: #049b0a; } /* SpecialString */
code span.st { color: #049b0a; } /* String */
code span.va { } /* Variable */
code span.vs { color: #049b0a; } /* VerbatimString */
code span.wa { color: #ffff00; font-weight: bold; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Plant Disease Epidemiology</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-leaf"></span>
     
    Welcome
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Intro
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="install.html">Before starting</a>
    </li>
    <li>
      <a href="intro_r.html">Intro to R</a>
    </li>
    <li>
      <a href="intro_ggplot.html">Intro to ggplot</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    PDE
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="disease_assessment.html">Disease Assessment</a>
    </li>
    <li>
      <a href="temp_prog_1.html">Temporal progress (part 1)</a>
    </li>
    <li>
      <a href="temp_prog_2.html">Temporal progress (part 2)</a>
    </li>
    <li>
      <a href="spatial_prog_1.html">Spatial progress</a>
    </li>
    <li>
      <a href="hlir.html">HLIR</a>
    </li>
    <li>
      <a href="forecasting.html">Forecasting</a>
    </li>
    <li>
      <a href="Sampling.html">Sampling</a>
    </li>
    <li>
      <a href="Experimental.html">Experimental design</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore"><strong>Intro to R - From 0 to
Tidyverse</strong></h1>
<h4 class="author">Paul Esker; Mauricio Serrano; Mladen Cucak; Felipe
Dalla Lana</h4>

</div>


<div id="introduction" class="section level1">
<h1><strong>Introduction</strong></h1>
<p>R is an open source language that was developed by Ross Ihaka and
Robert Gentleman, using the S language as inspiration <a
href="https://www.r-project.org/about.html">(source)</a>. Today R is one
of the most popular tools used in data analysis and statistics.</p>
<p>This class will cover a basic introduction to R. Our goals are to
prepare you for the next steps in the class. Please note that additional
tools and functions will also be introduced as the course progress.</p>
<p>There are plenty of free, online resources available. Below are a few
recommendations:</p>
<ul>
<li><a href="https://r4ds.had.co.nz/">R for Data Science</a> by Garrett
Grolemund and Hadley Wickham</li>
<li><a href="https://adv-r.hadley.nz/">Advance R</a> by Hadley
Wickham</li>
<li><a href="https://www.rstudio.com/resources/cheatsheets/">RStudio
Cheatsheets</a> by RStudio</li>
<li><a
href="https://everhartlab.github.io/APS_IntroR_2020/refs.html">Intro to
R</a> by Dr. Sydney E. Everhart, Nikita Gambhir, Dr. Kaitlin Gold,
Dr. Lucky Mehra, and Dr. Zhian N. Kamvar.</li>
<li><a href="https://rtools.netlify.app/">Modeling tools and techniques
using R</a> by Paul Esker and Felipe Dalla Lana</li>
</ul>
<p><br></p>
<blockquote>
<p><strong>Remember</strong>, R is a software language, and as such, it
requires time and practice to master what the language offers. Similar
to learning a new language, once you have learned some of the basics,
you will be able to continuing adding new “words” to your vocabulary and
continue to build a mastery of R.</p>
</blockquote>
</div>
<div id="r-and-rstudio" class="section level1">
<h1><strong>R and RStudio</strong></h1>
<p><strong>R</strong> is free available to download <a
href="https://www.r-project.org/">here</a>. R is supported by Windows,
Linux, and Mac.</p>
<div class="figure" style="text-align: center">
<img src="figures/intro_r/R.png" alt="Figure, R. (1) is the console, where codes are entered and read by the software; (2) is the script or code source, where the user enters information that can be copied and pasted into the console; and (3) is a window with graph output" width="90%" />
<p class="caption">
Figure, R. (1) is the console, where codes are entered and read by the
software; (2) is the script or code source, where the user enters
information that can be copied and pasted into the console; and (3) is a
window with graph output
</p>
</div>
<p><br></p>
<p>RStudio is the most popular IDE (Integrated development environment)
used by R. It is simply a more user friendly software that integrates
and runs R. It is developed by <a
href="https://www.rstudio.com/">RStudio</a>, the same location where you
can download the software. The software is highly customized and
includes lotos of additional “plugins”.</p>
<div class="figure" style="text-align: center">
<img src="figures/intro_r/RStudio.png" alt="Figure, IDE-RStudio. (1) is a window with multiple pieces of information, for example, files, plots, packages, and help tools; (2) is the location of the source or script; (3) is the R console; (4) is a window with  objects, coding history and more" width="90%" />
<p class="caption">
Figure, IDE-RStudio. (1) is a window with multiple pieces of
information, for example, files, plots, packages, and help tools; (2) is
the location of the source or script; (3) is the R console; (4) is a
window with objects, coding history and more
</p>
</div>
</div>
<div id="the-basic" class="section level1">
<h1><strong>The basic</strong></h1>
<p>R can be used as a simpler calculator:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Addition</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subtraction</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10-5</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiplication</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span><span class="sc">*</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Division</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span><span class="sc">/</span><span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exponents</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">^</span><span class="dv">3</span> <span class="co"># or 3**3</span></span></code></pre></div>
<pre><code>## [1] 27</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Modulos (values that remains from the division)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">%%</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Integer division (fractional part is discarded)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">%/%</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p><br></p>
<p>And there are many more calculations with a function like style:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">10</span>))</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard deviation</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 1.032796</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Square root</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">9</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Natural log</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 4.60517</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using log and defining the base (here base of 10)</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">100</span>, <span class="at">base =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exp</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 148.4132</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Absolute value (not actually a calculation)</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abs</span>(<span class="sc">-</span><span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<p><br></p>
<p>You can assign names to objects or values, such as numbers. To do
this, use the <code>&lt;-</code> or <code>=</code>, although the first
is preferred since it does avoid errors in very <a
href="https://stackoverflow.com/a/51564252/7711459">specific
situations</a>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using = to assign a value</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="dv">2</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Or using &lt;- to assign a value</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">10</span> </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tip: Alt and - (Windows) or Option and - (Mac) are shortcut for &quot;&lt;-&quot;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use the assigned object to do calculations</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> a<span class="sc">+</span>b</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>c</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># An object can also be characters </span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="st">&quot;R is fun&quot;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code>## [1] &quot;R is fun&quot;</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Can contain multiple numbers</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>) <span class="co"># the c means concatenate </span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>e</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># They can be grouped into a table (more on this later)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">First =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>),</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">Second =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;E&quot;</span>))</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>f</span></code></pre></div>
<pre><code>##   First Second
## 1     1      A
## 2     2      B
## 3     3      C
## 4     4      D
## 5     5      E</code></pre>
<p><br></p>
<p>Although you can give almost any name for an object in R, there are
some words that <strong>cannot</strong> be used and others that should
be <em>avoided.</em></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># You cannot use a number as object name</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Some words are reserved for specifics functions and cannot be used</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="cn">NA</span> <span class="ot">&lt;-</span> <span class="dv">200</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="cn">NaN</span> <span class="ot">&lt;-</span> <span class="dv">150</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="ot">&lt;-</span><span class="dv">100</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="cn">FALSE</span> <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="cn">Inf</span> <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Other keywords that cannot be used as object name include:</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a><span class="co"># &quot;break&quot;, &quot;else&quot;, &quot;for&quot;, &quot;if&quot;, &quot;next&quot;, &quot;repeat&quot;, &quot;return&quot;, and &quot;while&quot;</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="co"># You also cannot use specific keyboard symbols, such as /, @, %, !, etc.</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>UCR<span class="sc">/</span>fito <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>UCR<span class="sc">@</span>fito <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>UCR%fito <span class="ot">&lt;-</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:20:4: unexpected input
## 19: 
## 20: UCR%fito &lt;- 100
##        ^</code></pre>
<p><br></p>
<p>Some other helpful suggestions: it is good practice to label your
objects in a very intuitive manner, and follow similar pattern.</p>
<p>For example, if you have multiple objects, such as monthly
temperature, it would be considered preferable to use something
like:<code>temp_jan</code>, <code>temp_fev</code>,
<code>temp_mar</code>, etc. These names are very intuitive, and follow
the same pattern (variable, underline separation, month with 3
characters), and will likely be understood for someone with some
familiarity of the data.</p>
<p>On the other hand, using names such as <code>var1</code>,
<code>col1</code>, <code>Object 1</code>, make it very difficult for
someone to understand the coding without additional information. Avoid
changing the name separation (e.g.<code>temp_jan</code>,
<code>temp.feb</code>) and take extra care with the use of
capitalization (upper and lower case letters), since R is sensitive to
this and this can often lead to errors in your code or difficulties in
running specific analyses. For example, <code>temp_Jan</code>,
<code>Temp_Feb</code>, while both work, adds an additional layer of
coding complexity that is not necessary.</p>
<p><br></p>
<p>When possible, we also recommend to avoid giving names to objects
that are used as functions (more about functions below).</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mean() calculate the object mean</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>))</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if you gave a name for an object of &quot;mean&quot;, it may create awkward situations</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>mean <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mean)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p><br></p>
<p>We can give name to plots (data visualization will be covered in the
next section) and many other data formats (data frames, matrix, vector,
list, etc)</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We will learn how to do better plots later, just for example here</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co">#plot data</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>data_plot <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>))</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co">#plot</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>plot_name <span class="ot">=</span> <span class="fu">ggplot</span>(data_plot, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y=</span>y)) <span class="sc">+</span> <span class="fu">geom_point</span>() </span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="co">#print plot</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>plot_name</span></code></pre></div>
<p><img src="intro_r_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p><br></p>
</div>
<div id="data-types-and-structure" class="section level1">
<h1><strong>Data types and structure</strong></h1>
<div id="types-of-data" class="section level2">
<h2><strong>Types of data</strong></h2>
<p>From a practical point of view, the four most important data types
(or modes) are:</p>
<ul>
<li><strong>Numeric</strong> = values that can be specified at the
decimal level, for example <code>1.2</code>, <code>3.141593</code>,
<code>10.0</code>, and <code>-5.2</code>;</li>
<li><strong>Integer</strong> = similar to numeric, but they cannot be
defined at the decimal level. Examples of integer are <code>1</code>,
<code>2</code>, <code>-4</code>, an <code>500</code>;</li>
<li><strong>Logical</strong> = can only be defined as <code>TRUE</code>
or <code>FALSE</code>, or <code>T</code> and <code>F</code> for
short;</li>
<li><strong>Character</strong> = words that are like elements that are
surrounded by ” or ’, such as <code>"PA"</code>,
<code>"Costa Rica"</code>, <code>"soybean"</code>. But, these can also
refer to other numbers (<code>"1.2"</code>, <code>'10'</code>,
<code>'-15'</code>), or logical values (<code>"TRUE"</code>,
<code>"FALSE"</code>);</li>
<li><strong>Factor</strong> = categorical variable that contains
predefined elements. Factors have levels, which determine the order of
its elements. See below for examples;</li>
<li><strong>Date</strong> = elements in data format, they can be at day
level (<em>date</em>) or date and time, including hours, minute, second,
and sub-second elements (<em>POSIXct</em>). See below for examples;</li>
</ul>
<p><em>NOTE</em>: For practical purposes, we simplified these types of
data as part of the introduction. In R, these are called atomic vectors.
There are also two other types of atomic vectors which are rarely used
and will not be mentioned here (<code>complex</code> and
<code>raw</code>). If you would like to explore this in more detail, we
recommend Chapter 3 and 13 of Wickham book, <a
href="https://adv-r.hadley.nz/vectors-chap.html">Advanced R</a>.</p>
<div id="numeric" class="section level3">
<h3><strong>Numeric</strong></h3>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets create an example</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>numeric_example <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.2</span>, <span class="fl">1.5</span>, <span class="fl">3.14</span>, <span class="fl">2.7182</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># You can directly ask if the results are numeric with the function is.numeric()</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(numeric_example)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Or ask what is the class of the vector</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(numeric_example)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
</div>
<div id="integer" class="section level3">
<h3><strong>Integer</strong></h3>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s start by entering a vector of numbers</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>integer_example <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="sc">-</span><span class="dv">4</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(integer_example)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If is not integer, what is the class type?</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(integer_example) </span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># When you information as numbers, R will assume that is numeric</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># We have to inform R that that the values are integers by using the function as.integer()</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>integer_exemple <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="sc">-</span><span class="dv">4</span>))</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(integer_exemple)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(integer_exemple) </span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, if you enter information that has decimals and force the result to be an integer,</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="co"># R will ignore the decimal information </span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(<span class="fu">c</span>(<span class="fl">3.1</span>, <span class="fl">4.9</span>, <span class="fl">5.499999</span>, <span class="fl">9.99999</span>))</span></code></pre></div>
<pre><code>## [1] 3 4 5 9</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If you enter information as words (= class, character) and try to force this to be an integer</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co"># R will return an error</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(<span class="fu">c</span>(<span class="st">&quot;Sunday&quot;</span>, <span class="st">&quot;Monday&quot;</span>, <span class="st">&quot;Tuesday&quot;</span>, <span class="st">&quot;Wednesday&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA NA NA NA</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, what enters when you enter numerical values in character format</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>number_character <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(number_character)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(number_character)</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.integer</span>(number_character))</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This type of transformation is very useful for some data loading in R where the values can be considered as characters</span></span></code></pre></div>
<p><br></p>
</div>
<div id="logical" class="section level3">
<h3><strong>Logical</strong></h3>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># As mentioned earlier, logical values can be only be considered as TRUE or FALSE</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>logical_example <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, T, F)</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(logical_example)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Logical operations are very important for situations where you want to check specific conditions,</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="co"># for example, if one number is greater than then other</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&gt;</span> <span class="dv">10</span>        <span class="co"># five is greater than 10?</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Sunday&quot;</span> <span class="sc">==</span> <span class="st">&quot;Monday&quot;</span>  <span class="co"># Sunday is equal to Monday?</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Sunday&quot;</span> <span class="sc">!=</span> <span class="st">&quot;Tuesday&quot;</span> <span class="co"># Sunday is different to Tuesday?</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here is an example where R implies that the character element &quot;2&quot; </span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co"># should be numeric and gives the correct answer</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&lt;</span> <span class="st">&quot;2&quot;</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="character" class="section level3">
<h3><strong>Character</strong></h3>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Character values are basic word elements</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>character_example <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;banana&quot;</span>, <span class="st">&#39;epidemiology&#39;</span>, <span class="st">&quot;TRUE&quot;</span>, <span class="st">&quot;11&quot;</span>, <span class="st">&quot;Character can be more than a single word&quot;</span>)</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(character_example)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># As you can see, they can be defined using either &quot; or &#39;</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>character_example</span></code></pre></div>
<pre><code>## [1] &quot;banana&quot;                                  
## [2] &quot;epidemiology&quot;                            
## [3] &quot;TRUE&quot;                                    
## [4] &quot;11&quot;                                      
## [5] &quot;Character can be more than a single word&quot;</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># But if you forget to include the &#39; or &quot;, R will give you an error message, as R thinks that it is an object</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>character_example <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;banana&quot;</span>, epidemiology)</span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;epidemiology&#39; not found</code></pre>
</div>
<div id="factor" class="section level3">
<h3><strong>Factor</strong></h3>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Different from characters, factors are ordinal, meaning that they have a defined order or structure </span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>factor_example <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&#39;blue&#39;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;red&quot;</span>))</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(factor_example)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that now we have attributes (levels) with our values</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>factor_example</span></code></pre></div>
<pre><code>## [1] red   blue  green red   red  
## Levels: blue green red</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A more useful function is factor(), </span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="co"># since, using this function you can define specifically the order and other attributes</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>factor_example2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&#39;blue&#39;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;red&quot;</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>))</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>factor_example2</span></code></pre></div>
<pre><code>## [1] red   blue  green red   red  
## Levels: red blue green</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that the order of the levels changed given that we specified the level order</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="co"># R by default uses an alphabetical ordering</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also change the name of the elements by changing the level label</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>factor_example3 <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&#39;blue&#39;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;yellow&quot;</span>), </span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;yellow&quot;</span>), </span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;RED&quot;</span>, <span class="st">&quot;Blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;green&quot;</span>))</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>factor_example3</span></code></pre></div>
<pre><code>## [1] RED   Blue  green RED   RED   green
## Levels: RED Blue green</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What happened? While we added a new color, yellow, we called the label &quot;green&quot;, which means</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co"># we redefined what yellow means.  </span></span></code></pre></div>
</div>
<div id="date" class="section level3">
<h3><strong>Date</strong></h3>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The most common date format is POSIX* </span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="co"># POSIX -- describes the date and time, to the millisecond  </span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="co"># it takes the date in character (string) format</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as.POSIXct</span>(<span class="st">&quot;2021-04-05 11:30:45&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-05 11:30:45 EDT&quot;</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use different time zones and date formats,</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="co"># for example, we define where the date as day, month, and year, </span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co"># but in the New Zealand time zone (NZL)</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="fu">as.POSIXct</span>(<span class="st">&quot;25/04-2021 14:30:45&quot;</span>, </span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">format =</span> <span class="st">&quot;%d/%m-%Y %H:%M:%OS&quot;</span>, </span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">tz =</span> <span class="st">&quot;NZ&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-25 14:30:45 NZST&quot;</code></pre>
<div class="sourceCode" id="cb101"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that we used /(slash) instead of - (dash). This is only to demonstrate </span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="co"># that R can deal with date information using different descriptions, which can be </span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="co"># common to different weather data sources.</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Also, it is important to note that although we can use different formats, </span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="co"># R still will print information using the default on ISO 8601, which means</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="co"># &quot;year-month-day  hour(24):minutes:seconds time zone&quot;</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a><span class="co"># There are two functions which we can use: POSIXct and POSIXlt</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">&quot;2021-04-05 11:30:45&quot;</span>)</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>lt <span class="ot">&lt;-</span> <span class="fu">as.POSIXlt</span>(<span class="st">&quot;2021-04-05 11:30:45&quot;</span>)</span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a><span class="co"># both output look the same</span></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a>ct</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-05 11:30:45 EDT&quot;</code></pre>
<div class="sourceCode" id="cb103"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>lt</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-05 11:30:45 EDT&quot;</code></pre>
<div class="sourceCode" id="cb105"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># They are from similar classes</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(ct)</span></code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
<div class="sourceCode" id="cb107"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(lt)</span></code></pre></div>
<pre><code>## [1] &quot;POSIXlt&quot; &quot;POSIXt&quot;</code></pre>
<div class="sourceCode" id="cb109"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># But, they have internally different attributes, with POSIXlt having multiple components </span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(ct) <span class="co"># the big number is the total of seconds since 1970-01-01</span></span></code></pre></div>
<pre><code>## [1] 1617636645
## attr(,&quot;tzone&quot;)
## [1] &quot;&quot;</code></pre>
<div class="sourceCode" id="cb111"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(lt)</span></code></pre></div>
<pre><code>## $sec
## [1] 45
## 
## $min
## [1] 30
## 
## $hour
## [1] 11
## 
## $mday
## [1] 5
## 
## $mon
## [1] 3
## 
## $year
## [1] 121
## 
## $wday
## [1] 1
## 
## $yday
## [1] 94
## 
## $isdst
## [1] 1
## 
## $zone
## [1] &quot;EDT&quot;
## 
## $gmtoff
## [1] NA</code></pre>
<div class="sourceCode" id="cb113"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># It is possible to extract specific information, for example, year, month, day, etc.</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="fu">weekdays</span>(ct)</span></code></pre></div>
<pre><code>## [1] &quot;Monday&quot;</code></pre>
<div class="sourceCode" id="cb115"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">months</span>(lt)</span></code></pre></div>
<pre><code>## [1] &quot;April&quot;</code></pre>
<div class="sourceCode" id="cb117"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quarters</span>(ct)</span></code></pre></div>
<pre><code>## [1] &quot;Q2&quot;</code></pre>
<div class="sourceCode" id="cb119"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The other class is date</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>dt <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2021-04-05 11:30:45&quot;</span>)</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>dt</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-05&quot;</code></pre>
<div class="sourceCode" id="cb121"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co"># As you can see, they are similar to POSIX* functions, however, they include only the specified information</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dt)</span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
</div>
</div>
<div id="data-structure" class="section level2">
<h2><strong>Data structure</strong></h2>
<p>Now that we understand the most important types of data, in the next
section, we will learn how to group them so we can start to do different
analyses. R is quite flexible in terms of grouping data. There are
basically six different data structures in R:</p>
<ul>
<li><strong>Scalar</strong> = a one element vector. ex.
<code>x &lt;- 2</code>; <code>y &lt;- "beans"</code></li>
<li><strong>Vector</strong> = a one-dimensional object with multiple
scalars from the same type/mode (numeric, integer, logical, etc.)</li>
<li><strong>Matrix</strong> = a two-dimensional object that contains
multiple vectors from the same type/mode</li>
<li><strong>Array</strong> = is similar to a matrix but is
three-dimensional. Can only hold data from the same type.</li>
<li><strong>Data frame</strong> = are two-dimensional structures ,
similar to matrix, but can hold vectors from different types of
data</li>
<li><strong>List</strong> = are the most complex data structure in R,
and can hold a collection of objects, ranging from something as simple
as a one element scale to arraya, or plots.</li>
</ul>
<p>The figure below illustrates the differences between these five data
structure types”</p>
<div class="figure" style="text-align: center">
<img src="figures/intro_r/data_structure.png" alt="Types of data structure in R. [Imagen source](http://venus.ifca.unican.es/Rintro/dataStruct.html#data-structure-types)" width="85%" />
<p class="caption">
Types of data structure in R. <a
href="http://venus.ifca.unican.es/Rintro/dataStruct.html#data-structure-types">Imagen
source</a>
</p>
</div>
<div id="vector" class="section level3">
<h3><strong>Vector</strong></h3>
<div class="sourceCode" id="cb123"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use the function c(), which means concatenate, to create vectors</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb125"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre>
<div class="sourceCode" id="cb127"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can select an element within a vector using brackets, [ ], along with the desired position of the element</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>y[<span class="dv">3</span>] <span class="co"># Will extract and provide the third element in vector y</span></span></code></pre></div>
<pre><code>## [1] &quot;c&quot;</code></pre>
</div>
<div id="matrix" class="section level3">
<h3><strong>Matrix</strong></h3>
<div class="sourceCode" id="cb129"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here an example with an matrix with numbers from 1 to 12 and dimensions of 4 rows and 3 columns</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>matrix_a <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>,<span class="at">ncol=</span><span class="dv">3</span>,<span class="at">nrow=</span><span class="dv">4</span>)</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>matrix_a</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</code></pre>
<div class="sourceCode" id="cb131"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To extract elements from a matrix, you have to specify first the row and then the column </span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>matrix_a[<span class="dv">2</span>,<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb133"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Names can be added to rows and columns by using the option &#39;dimnames&#39;</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>,<span class="at">nrow=</span><span class="dv">4</span>,<span class="at">ncol=</span><span class="dv">3</span> ,</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">c</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>, <span class="st">&quot;Z&quot;</span>)))</span></code></pre></div>
<pre><code>##   X Y  Z
## A 1 5  9
## B 2 6 10
## C 3 7 11
## D 4 8 12</code></pre>
</div>
<div id="array" class="section level3">
<h3><strong>Array</strong></h3>
<div class="sourceCode" id="cb135"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Array do not have arguments for the number of rows or columns, </span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="co"># but instead it uses the argument &#39;dim&#39;, where you provide the dimensions for row, column, and matrix</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>array_a <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">36</span>,<span class="at">dim=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">3</span>)) <span class="co">#3 rows, 4 columns, 3 matrices</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>array_a <span class="co"># note that the array are actually multiple matrix</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,]   13   16   19   22
## [2,]   14   17   20   23
## [3,]   15   18   21   24
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,]   25   28   31   34
## [2,]   26   29   32   35
## [3,]   27   30   33   36</code></pre>
<div class="sourceCode" id="cb137"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also add row, column, and matrix names</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>array_a <span class="ot">=</span>  <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">36</span>,<span class="at">dim=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>), </span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">c</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>, <span class="st">&quot;Z&quot;</span>),</span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">c</span>(<span class="st">&quot;First&quot;</span>, <span class="st">&quot;Second&quot;</span>, <span class="st">&quot;Third&quot;</span>)))</span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Similar to vector and matrix, you can extract elements by using [ ] (brackets)</span></span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a>array_a[<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 14</code></pre>
<div class="sourceCode" id="cb139"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If you do not indicate one of the values, R will collect for all of the other dimensions not specified</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>array_a[,<span class="dv">1</span>,] <span class="co"># extract the first column from all matrix</span></span></code></pre></div>
<pre><code>##   First Second Third
## A     1     13    25
## B     2     14    26
## C     3     15    27
## D     4     16    28</code></pre>
</div>
<div id="data-frame" class="section level3">
<h3><strong>Data frame</strong></h3>
<div class="sourceCode" id="cb141"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data frames can have vector of different modes (i.e., data types)</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Numeric/character/logical </span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>vec_numer <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>vec_chacr <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;E&quot;</span>)</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a>vec_logic <span class="ot">&lt;-</span> <span class="fu">c</span>(T, F, T, F, T)</span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-9"><a href="#cb141-9" aria-hidden="true" tabindex="-1"></a><span class="co"># The function data.frame() creates new data frames</span></span>
<span id="cb141-10"><a href="#cb141-10" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(vec_numer, vec_chacr, vec_logic)</span>
<span id="cb141-11"><a href="#cb141-11" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   vec_numer vec_chacr vec_logic
## 1         1         A      TRUE
## 2         2         B     FALSE
## 3         3         C      TRUE
## 4         4         D     FALSE
## 5         5         E      TRUE</code></pre>
<div class="sourceCode" id="cb143"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The str function will show details of the data frame</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  3 variables:
##  $ vec_numer: num  1 2 3 4 5
##  $ vec_chacr: chr  &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...
##  $ vec_logic: logi  TRUE FALSE TRUE FALSE TRUE</code></pre>
<div class="sourceCode" id="cb145"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To select an column in data.frame you can use $ signal</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>vec_chacr</span></code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;</code></pre>
<div class="sourceCode" id="cb147"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># As well as the [ ] (brackets), similar to other data structures</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>,<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] &quot;B&quot;</code></pre>
</div>
<div id="list" class="section level3">
<h3><strong>List</strong></h3>
<div class="sourceCode" id="cb149"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A list is the most complex type of data structure and</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="co"># it can hold all previous structures mentioned before in a single object</span></span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">40</span>, <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>))</span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">numbers =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>),</span>
<span id="cb149-9"><a href="#cb149-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">charcters =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb149-10"><a href="#cb149-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-11"><a href="#cb149-11" aria-hidden="true" tabindex="-1"></a>first_list <span class="ot">&lt;-</span> <span class="fu">list</span>(a, b, c, d, e)</span>
<span id="cb149-12"><a href="#cb149-12" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(first_list)</span></code></pre></div>
<pre><code>## List of 5
##  $ : num 2
##  $ : num [1:5] 1 2 3 4 5
##  $ : int [1:4, 1:5] 1 2 3 4 5 6 7 8 9 10 ...
##  $ : int [1:4, 1:5, 1:2] 1 2 3 4 5 6 7 8 9 10 ...
##  $ :&#39;data.frame&#39;:    5 obs. of  2 variables:
##   ..$ numbers  : int [1:5] 1 2 3 4 5
##   ..$ charcters: chr [1:5] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...</code></pre>
<div class="sourceCode" id="cb151"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>first_list</span></code></pre></div>
<pre><code>## [[1]]
## [1] 2
## 
## [[2]]
## [1] 1 2 3 4 5
## 
## [[3]]
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    5    9   13   17
## [2,]    2    6   10   14   18
## [3,]    3    7   11   15   19
## [4,]    4    8   12   16   20
## 
## [[4]]
## , , 1
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    5    9   13   17
## [2,]    2    6   10   14   18
## [3,]    3    7   11   15   19
## [4,]    4    8   12   16   20
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]   21   25   29   33   37
## [2,]   22   26   30   34   38
## [3,]   23   27   31   35   39
## [4,]   24   28   32   36   40
## 
## 
## [[5]]
##   numbers charcters
## 1       1         A
## 2       2         B
## 3       3         C
## 4       4         D
## 5       5         E</code></pre>
<div class="sourceCode" id="cb153"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can add names to each data structure</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>second_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">scalar =</span> a, <span class="at">vector =</span> b, <span class="at">matrix =</span> c, <span class="at">array =</span> d, <span class="at">data_frame =</span> e)</span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>second_list</span></code></pre></div>
<pre><code>## $scalar
## [1] 2
## 
## $vector
## [1] 1 2 3 4 5
## 
## $matrix
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    5    9   13   17
## [2,]    2    6   10   14   18
## [3,]    3    7   11   15   19
## [4,]    4    8   12   16   20
## 
## $array
## , , 1
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    5    9   13   17
## [2,]    2    6   10   14   18
## [3,]    3    7   11   15   19
## [4,]    4    8   12   16   20
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]   21   25   29   33   37
## [2,]   22   26   30   34   38
## [3,]   23   27   31   35   39
## [4,]   24   28   32   36   40
## 
## 
## $data_frame
##   numbers charcters
## 1       1         A
## 2       2         B
## 3       3         C
## 4       4         D
## 5       5         E</code></pre>
<div class="sourceCode" id="cb155"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A list can include another list</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>third_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">scalar =</span> a, <span class="at">vector =</span> b,  <span class="at">data_frame =</span> e, <span class="at">my_list =</span> second_list)</span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>third_list</span></code></pre></div>
<pre><code>## $scalar
## [1] 2
## 
## $vector
## [1] 1 2 3 4 5
## 
## $data_frame
##   numbers charcters
## 1       1         A
## 2       2         B
## 3       3         C
## 4       4         D
## 5       5         E
## 
## $my_list
## $my_list$scalar
## [1] 2
## 
## $my_list$vector
## [1] 1 2 3 4 5
## 
## $my_list$matrix
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    5    9   13   17
## [2,]    2    6   10   14   18
## [3,]    3    7   11   15   19
## [4,]    4    8   12   16   20
## 
## $my_list$array
## , , 1
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    5    9   13   17
## [2,]    2    6   10   14   18
## [3,]    3    7   11   15   19
## [4,]    4    8   12   16   20
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]   21   25   29   33   37
## [2,]   22   26   30   34   38
## [3,]   23   27   31   35   39
## [4,]   24   28   32   36   40
## 
## 
## $my_list$data_frame
##   numbers charcters
## 1       1         A
## 2       2         B
## 3       3         C
## 4       4         D
## 5       5         E</code></pre>
<div class="sourceCode" id="cb157"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using [ ] (brackets), we can extract different components from within the list</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>third_list[[<span class="dv">3</span>]] <span class="co"># Extract the third component</span></span></code></pre></div>
<pre><code>##   numbers charcters
## 1       1         A
## 2       2         B
## 3       3         C
## 4       4         D
## 5       5         E</code></pre>
<div class="sourceCode" id="cb159"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>third_list[[<span class="dv">3</span>]][<span class="dv">2</span>] <span class="co"># extract the second element of the third component</span></span></code></pre></div>
<pre><code>##   charcters
## 1         A
## 2         B
## 3         C
## 4         D
## 5         E</code></pre>
</div>
</div>
</div>
<div id="functions" class="section level1">
<h1><strong>Functions</strong></h1>
<div id="understanding-functions" class="section level2">
<h2><strong>Understanding functions</strong></h2>
<p>Functions are one of core components of the R language. They help to
make data analyses easier, especially when trying to automate some
processes.</p>
<p>Let’s start with a simple example:</p>
<div class="sourceCode" id="cb161"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>FUN_weather <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  how_weather <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">&quot;Today the weather is &quot;</span>, x)</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(how_weather) </span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a><span class="fu">FUN_weather</span>(<span class="st">&quot;good&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Today the weather is good&quot;</code></pre>
<div class="sourceCode" id="cb163"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FUN_weather</span>(<span class="st">&quot;rainy&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Today the weather is rainy&quot;</code></pre>
<div class="sourceCode" id="cb165"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FUN_weather</span>(<span class="st">&quot;hot!!!&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Today the weather is hot!!!&quot;</code></pre>
<p>We can divide our functions into three components” <em>name</em>,
<em>arguments</em>, and <em>body</em></p>
<ul>
<li><strong>Name</strong> as it suggests, it is the name of your
function. In the example above, the function is called
<code>FUN_weather</code>. As always, we recommend that you use names
that are intuitive and follow some pattern. For example, what we did
above is use FUN to indicate that this will remind us that we have
created a function (or functions). The part that says <em>weather</em>
indicates that the function will have something to do with weather.</li>
<li><strong>Arguments</strong> is where we list our inputs. We start
with a call to <code>function()</code> and include all arguments inside
the parentheses. In our example, we have only one input, <code>x</code>,
although it is often very common to have multiple inputs.</li>
<li><strong>Body</strong> is where your arguments are used with the
additional code that you will write. The body most be within the curly
brackets<code>{body}</code>. R processes functions from the first line
to the last, so you can create objects that will be used later in the
function, as we did in our example, creating an object called
<code>how_weather</code>, which will be printed once we define the
argument. The output will always be the last line of the code.</li>
</ul>
<p><em>NOTE</em>: There is one more component in the function that is
<em>environment</em>. For the majority of the cases you don’t need to
use it (~99.9% of the cases), so we will not cover this part here. But
if you want to learn more, we recommend you consult Hadley Wickham’s
book, <a href="https://adv-r.hadley.nz/functions.html">Advanced
R</a>.</p>
</div>
<div id="adding-more-arguments" class="section level2">
<h2><strong>Adding more arguments</strong></h2>
<p>In the next example, the function was constructed to decide if is a
good day to go outside. For this function we use multiple arguments to
make the decision. There are a lot of new things in the code, but, for
now, let’s focus on the function itself. To be able to go outside, three
conditions must be met: (i) the temperature must be equal to or greater
than 22C (variable X); (ii) the day must be sunny; and (iii) you cannot
be busy, meaning you have the time to go outside. The function
<code>ifelse</code>, inside of the defined function will return “YES” if
all conditions are meet, and “NO” otherwise. This information is saved
in the object called <code>cond</code>. Depending on the result, this
information will be pasted in the resulting outcome called,
<code>paste0</code>.</p>
<div class="sourceCode" id="cb167"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>FUN_go_out <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> <span class="dv">15</span>, <span class="at">y =</span> <span class="st">&quot;rain&quot;</span>, <span class="at">z =</span> <span class="st">&quot;busy&quot;</span>){</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a> cond <span class="ot">&lt;-</span>  <span class="fu">ifelse</span>(x <span class="sc">&gt;=</span>  <span class="dv">22</span> <span class="sc">&amp;</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>         y <span class="sc">==</span> <span class="st">&quot;sunny&quot;</span> <span class="sc">&amp;</span></span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>         z <span class="sc">==</span> <span class="st">&quot;not_busy&quot;</span>, </span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;YES&quot;</span>, <span class="st">&quot;NO&quot;</span>)</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(<span class="st">&quot;Is it a good day to go out? &quot;</span>, cond)</span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>In addition to the multiple arguments, another difference from the
first function is the pre-defined values for the arguments. This means,
that, unless otherwise specified, the values will always take the form
of <code>x = 15</code>, <code>y = "rain"</code>, and
<code>z = "busy"</code>. Now, let’s see what happen if we run the
function without changing any of the arguments (i.e., the default).</p>
<div class="sourceCode" id="cb168"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FUN_go_out</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Is it a good day to go out? NO&quot;</code></pre>
<p>In this case, R used the arguments values that defined the function,
and, since none of the criteria were meet, the function output shows
that it was not a good day to go out.</p>
<p>What if we change the parameters? What occurs now?</p>
<div class="sourceCode" id="cb170"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FUN_go_out</span>(<span class="at">x =</span> <span class="dv">25</span>, <span class="at">y =</span> <span class="st">&quot;sunny&quot;</span>, <span class="at">z =</span> <span class="st">&quot;not_busy&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Is it a good day to go out? YES&quot;</code></pre>
<p>Also note that if you do not use a label for each of the arguments, R
will assume that the inputs are in the same order as originally
defined.</p>
<div class="sourceCode" id="cb172"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FUN_go_out</span>(<span class="dv">30</span>, <span class="st">&quot;sunny&quot;</span>, <span class="st">&quot;not_busy&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Is it a good day to go out? YES&quot;</code></pre>
<p>Here is another example, where you label some of the inputs, but not
others (in this example, the last argument is not defined). R will do as
mentioned earlier in that they use the defined arguments, but then use
the default argument for the missing one.</p>
<div class="sourceCode" id="cb174"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FUN_go_out</span>(<span class="at">x =</span> <span class="dv">30</span>, <span class="st">&quot;sunny&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Is it a good day to go out? NO&quot;</code></pre>
<p>Finally, if you label the arguments, but they are ented in a
different order, R will be able to follow the label of the arguments,
although it is recommended to follow the defined order to minimize the
potential to make a mistake.</p>
<div class="sourceCode" id="cb176"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FUN_go_out</span>(<span class="at">z =</span> <span class="st">&quot;not_busy&quot;</span>, <span class="at">x =</span> <span class="dv">20</span>, <span class="at">y =</span> <span class="st">&quot;sunny&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Is it a good day to go out? NO&quot;</code></pre>
<p>So far, the examples that we showed are very simple. As we move into
different methods, for example linear regression or even more complex
analyses such as using a machine learning algorithm, recognize that we
will have to increase the complexity of our function. As we progress
through different themes, you will have the opportunity to improve your
function development skills although for many of the analyses we
conduct, functions will have been developed by others. This last point
allows us to transition into the concept of <strong>packages</strong>,
which is our next section.</p>
</div>
</div>
<div id="packages" class="section level1">
<h1><strong>Packages</strong></h1>
<div id="what-is-a-package" class="section level2">
<h2><strong>What is a package?</strong></h2>
<p>Packages constitute the fundamental unit of what we define as
“shareable code” (<a href="https://r-pkgs.org/intro.html">Wickham 2015 -
R Packages</a>). It is basically the easiest way to share functions and
other elements (such as data and documentation) across multiple users.
By default, R already comes with multiple packages installed, such as,
<code>base</code> and <code>graphics</code>, but there are thousands of
other packages developed by people from different backgrounds, many of
which were developed to help solve a wide array of problems.</p>
<div class="figure" style="text-align: center">
<img src="figures/intro_r/packages.png" alt="In RStudio, you can find what packages are installed in the tap &quot;Packages&quot;. Package name, a brief description, and version are showed" width="100%" />
<p class="caption">
In RStudio, you can find what packages are installed in the tap
“Packages”. Package name, a brief description, and version are showed
</p>
</div>
<p>The most common way of install an package is through CRAN
(<strong>C</strong>omprehensive <strong>R</strong>
<strong>A</strong>rchive <strong>N</strong>etwork), which is a network
of packages held in a repository.</p>
<p>Let’s illustrate this with a simple example:</p>
<div class="sourceCode" id="cb178"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To install the package called &quot;psych&quot;</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;psych&quot;</span>)</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Now that package is in your computer, to make the functions available to the user, we must first load this from the memory.</span></span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych) <span class="co"># load the package</span></span>
<span id="cb178-6"><a href="#cb178-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-7"><a href="#cb178-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Another way to do this is to use the function require</span></span>
<span id="cb178-8"><a href="#cb178-8" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(psych)</span></code></pre></div>
<p><br></p>
<p>Although developers try to avoid using functions with similar name,
it is common that two different packages may have functions with the
same name. In this case, you will see lots of codes where the author has
defined the package that they are using to call the function. We will
illustrate this first using a simple example.</p>
<div class="sourceCode" id="cb179"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Take the following matrix</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a>matrix_1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">3</span>,<span class="dv">3</span>)</span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a>matrix_1</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb181"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, let us transpose this matrix, using the function t() from the base package (already installed and load in R)</span></span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(matrix_1)</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9</code></pre>
<div class="sourceCode" id="cb183"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># So far, so good, but now, if we create a function called &quot;t&quot;, we may obtain an answer we did not expect, especially since t has a very specific (and in this case, a very important) use in the R language.</span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a>  x<span class="sc">+</span><span class="dv">10</span> } <span class="co"># this function adds 10 to a given value</span></span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(matrix_1) <span class="co"># with this call, we will not transpose the data, rather use the function that adds 10 to a given value</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   11   14   17
## [2,]   12   15   18
## [3,]   13   16   19</code></pre>
<div class="sourceCode" id="cb185"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Therefore, we would need to use the following form to make sure we are using the transpose function: package name + double-colon + function</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>base<span class="sc">::</span><span class="fu">t</span>(matrix_1)</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9</code></pre>
<p><br></p>
<p>Something very important to learn to use is the <code>help()</code>
function or question mark (<code>?</code>) plus the function name. This
provides information related to the function, as well as information
about the package where it is located.</p>
<p>For example ?cor.test will provide a description of <em>cor.test</em>
function</p>
<div class="figure" style="text-align: center">
<img src="figures/intro_r/help.png" alt="In RStudio, function description will be showed in the Help tap when use the function help() or ?" width="100%" />
<p class="caption">
In RStudio, function description will be showed in the Help tap when use
the function help() or ?
</p>
</div>
<div id="tidyverse" class="section level3">
<h3><strong>Tidyverse</strong></h3>
<p>When we wrote this document (2021-3-25), there were 17,371 packages
available in CRAN. These packages were built by different people, with
different backgrounds, focused on different types of data analyses.
Naturally, there can be issues with the compatibility from one package
to another. With this in mind, the developers from RStudio started to
build <a href="https://www.tidyverse.org/">Tidyverse</a>, which is a
group of packages that “share an underlying design philosophy, grammar,
and data structures.”</p>
<p>There is several package that are part of tidyverse, and everyday
there are more packages which share the same principles as tidyverse
being added to CRAN. The “core” packages of tidyverse are:</p>
<ul>
<li><a
href="https://ggplot2.tidyverse.org/"><code>ggplot2</code></a></li>
<li><a href="https://dplyr.tidyverse.org/"><code>dplyr</code></a></li>
<li><a href="https://tidyr.tidyverse.org/"><code>tidyr</code></a></li>
<li><a href="https://readr.tidyverse.org/"><code>readr</code></a></li>
<li><a href="https://purr.tidyverse.org/"><code>purr</code></a></li>
<li><a href="https://tibble.tidyverse.org/"><code>tibble</code></a></li>
<li><a
href="https://stringr.tidyverse.org/"><code>stringr</code></a></li>
<li><a
href="https://forcats.tidyverse.org/"><code>forcats</code></a></li>
</ul>
<div class="figure" style="text-align: center">
<img src="figures/intro_r/tidyverse.png" alt="Figure tidyverse. The core packages which form tidyverse. These packages can be loaded with the following code ~ `library(tidyverse)`. [Image source](https://github.com/spcanelon/tour-of-the-tidyverse/blob/master/images/pptx/tidyverse.png)" width="70%" />
<p class="caption">
Figure tidyverse. The core packages which form tidyverse. These packages
can be loaded with the following code ~ <code>library(tidyverse)</code>.
<a
href="https://github.com/spcanelon/tour-of-the-tidyverse/blob/master/images/pptx/tidyverse.png">Image
source</a>
</p>
</div>
<div class="sourceCode" id="cb187"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To install tidyverse</span></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb188"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load tidyverse</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p><br> During this class, we will be applying many of the tools
available in tidyverse, including in the following sections. We will
remind you about the different packages as we work through the course
materials.</p>
</div>
</div>
</div>
<div id="work-directory-and-input-data" class="section level1">
<h1><strong>Work directory and input data</strong></h1>
<div id="work-directory" class="section level2">
<h2><strong>Work directory</strong></h2>
<p>So far, all the data we have used in our examples were created
directly in R. Realistically though, we work from databases developed as
part of our research. What this means is that we will start with files
that have one of the following formats: <code>.xlsx</code>,
<code>.csv</code>, <code>txt</code>, etc. Furthermore, once you finish
an analysis in R, you will want to export your results and graphs. Here,
we will show how to set up R to define a specific where you will want to
store the data file and corresponding code and output. We recommend
doing this for each project to minimize errors. Before we set the
directly, let us first find out what is the default directory by using
the function <code>getwd()</code>.</p>
<div class="sourceCode" id="cb189"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>() <span class="co"># See where the work directory is current located (Note: this will be different for each person)</span></span></code></pre></div>
<pre><code>## [1] &quot;C:/Users/mbc5867/OneDrive - The Pennsylvania State University/Documents/GitHub/Teaching/web_epidem&quot;</code></pre>
<p><br></p>
<p>If you want to change the directory, there is a couple ways to do it,
and we will show two of them.</p>
<p>The first way to change the work directory is by using the function
<code>setwd()</code> (set work directory) and indicate specifically
where you want set as your “work home”.</p>
<p>One example showing how you might use a University-related “D”:</p>
<div class="sourceCode" id="cb191"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Enter with the path for your work directory between &quot;&quot;</span></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="co"># setwd(&quot;D:/OneDrive_PSU/The Pennsylvania State University/Epidem class - PSU&quot;) </span></span>
<span id="cb191-3"><a href="#cb191-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-4"><a href="#cb191-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: one of the most common errors for Windows users is the slash orientation. Where R uses / (forward slash), Windows use \ (backslash). A simple copy and paste, without replacing \ to /, will cause an error.</span></span></code></pre></div>
<p><br></p>
<p>Although using the function <code>setwd()</code> will do the job, it
is not practical. For example, if you work on two computers (one from
home and another from work or the laboratory), or if you are working on
a group project and sharing files through the something like a cloud
service (for example, Dropbox, Google Drive, etc.), every time you, and
anybody working with you, will have to change the work directory to your
computer. That is probably not very practical.</p>
<p>On top of that, and thinking about <em>good practices</em> for your
work, keeping all files in the same folder with a clear pattern will
help minimize errors. For all these reasons, working with <a
href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects"><strong>projects</strong></a>
is a much better way keep a good <a
href="https://r4ds.had.co.nz/workflow-projects.html">work flow</a>.</p>
<p>Below we can see how to set up a R project.</p>
<p><br></p>
<ol style="list-style-type: decimal">
<li>Think about the folder and any subfolders that you want to include
in your work directory.</li>
</ol>
<p>Below we can see an example, where there is a primary folder with
subfolders which will have the data, figures, R scripts, manuscripts,
and miscellaneous items.</p>
<div class="figure" style="text-align: center">
<img src="figures/intro_r/folder.png" alt="Figure folders. An example of a folder organization for creaing a R project" width="85%" />
<p class="caption">
Figure folders. An example of a folder organization for creaing a R
project
</p>
</div>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li>In RStudio, locate in the top left the button “create a project”. A
new window should open in RStudio.</li>
</ol>
<p><img src="figures/intro_r/project1.png" width="85%" style="display: block; margin: auto;" /></p>
<p><br></p>
<ol start="3" style="list-style-type: decimal">
<li>If you already have a folder with your files, select <em>Existing
Directory</em> and paste or browse to find your work directory
path.</li>
</ol>
<p><img src="figures/intro_r/project2.png" width="85%" style="display: block; margin: auto;" /></p>
<p><br></p>
<ol start="4" style="list-style-type: decimal">
<li>Finally, you should have a new file in your folder, similar with the
one in the example below. The next time that you use R, you can click on
the file and it will open in RStudio with your work directory and
previous results loaded.</li>
</ol>
<p><img src="figures/intro_r/folder_2.png" width="85%" style="display: block; margin: auto;" /></p>
</div>
<div id="data-input" class="section level2">
<h2><strong>Data input</strong></h2>
<p>Now that we have defined a project, we need to import our data into
R. In the folder <code>data</code> we have an file called
<code>data_demo.csv</code>. We will read this file into R using the
function <code>read_csv()</code> from the package <code>readr</code>
(part of core packages of tidyverse). With this function, you will be
provided directly with information about each vector (variable)
type.</p>
<div class="sourceCode" id="cb192"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that because we have defined the work directory as the folder &quot;Epidem class - PSU&quot;, </span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="co"># which contains the subfolder &quot;data&quot;, we do not have to type the entire path for the data</span></span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a>data_demo <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;data/intro_r/data_demo.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 64 Columns: 9
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (2): trt, var
## dbl (7): plot, blk, sev, inc, yld, don, fdk
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb194"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a>data_demo</span></code></pre></div>
<pre><code>## # A tibble: 64 × 9
##     plot trt   var     blk   sev   inc   yld   don   fdk
##    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1   107 A     R         1  1.95    35  86.6  0.11     4
##  2   109 A     R         1  1.2     20  80.3  0.15     4
##  3   204 A     R         2  0.9     20  81.1  0       42
##  4   214 A     R         2  4.05    50  85.1  0.07    25
##  5   305 A     R         3  1.1     15  84.8  0       29
##  6   316 A     R         3  1.8     10  93.7  0       24
##  7   406 A     R         4  1.4     25  84.5  0.06    37
##  8   412 A     R         4  0.45    10  84.8  0.07    42
##  9   108 A     S         1 13.3     55  92.3  0.42    NA
## 10   110 A     S         1 12.3     50 103.   0.26    NA
## # … with 54 more rows
## # ℹ Use `print(n = ...)` to see more rows</code></pre>
<p><br></p>
<p>If you wanted to load data from another folder that is not located in
our work directory, you just need to include the entire path.</p>
<div class="sourceCode" id="cb196"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will give you the same result, however, it is specific </span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a><span class="co"># for the computer being used computer and is difficult to read</span></span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a>data_demo2 <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;D:/OneDrive_PSU/The Pennsylvania State University/Epidem class - PSU/data/intro_r/data_demo.csv&quot;</span>)</span></code></pre></div>
<p><br></p>
<p>Other functions to read <code>.csv</code> files include the R base
function <code>read.csv()</code> and <code>read.csv2()</code> from the
<code>base</code> package. For <code>.xlsx</code> (Excel) files, we can
use the functions <code>read_excel()</code>, from the package
<code>readxl</code> and for <code>.txt</code> (text) files, the function
<code>read_table()</code> from the package <code>readr</code>.</p>
</div>
</div>
<div id="data-wrangling" class="section level1">
<h1><strong>Data wrangling</strong></h1>
<p>Now that we have our data loaded, we often need to do some work on
the data to summarize information, add new data pieces, or change the
general format of the database. During this class, we will focus on
ideas related to data wrangling, or data manipulation.</p>
<p>To expand on our initial ideas, it is often necessary to change the
shape of your data, filter the data, make specific (and documented)
changes to the data, summarize the data, as well as other options. To do
this, we will use the tools available in the <code>tidyverse</code>
packages, specifically <code>tidyr</code> and <code>dplyr</code>.</p>
<p>Before we commence with data manipulation, it is important to have a
look at the data.</p>
<div class="sourceCode" id="cb197"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We previously saw the following function, but let&#39;s use the function str() to see the details about the different variables</span></span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data_demo)</span></code></pre></div>
<pre><code>## spec_tbl_df [64 × 9] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ plot: num [1:64] 107 109 204 214 305 316 406 412 108 110 ...
##  $ trt : chr [1:64] &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; ...
##  $ var : chr [1:64] &quot;R&quot; &quot;R&quot; &quot;R&quot; &quot;R&quot; ...
##  $ blk : num [1:64] 1 1 2 2 3 3 4 4 1 1 ...
##  $ sev : num [1:64] 1.95 1.2 0.9 4.05 1.1 1.8 1.4 0.45 13.3 12.3 ...
##  $ inc : num [1:64] 35 20 20 50 15 10 25 10 55 50 ...
##  $ yld : num [1:64] 86.6 80.3 81.1 85.1 84.8 ...
##  $ don : num [1:64] 0.11 0.15 0 0.07 0 0 0.06 0.07 0.42 0.26 ...
##  $ fdk : num [1:64] 4 4 42 25 29 24 37 42 NA NA ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   plot = col_double(),
##   ..   trt = col_character(),
##   ..   var = col_character(),
##   ..   blk = col_double(),
##   ..   sev = col_double(),
##   ..   inc = col_double(),
##   ..   yld = col_double(),
##   ..   don = col_double(),
##   ..   fdk = col_double()
##   .. )
##  - attr(*, &quot;problems&quot;)=&lt;externalptr&gt;</code></pre>
<p>As you can see, there is a lot of information, but let’s focus on a
few things. First, we can see that the data dimension is 64 rows x 9
columns, and all variables are numeric, except the variables
<code>trt</code> and <code>var</code>, which are in character
format.</p>
<p>Now, we can use the function <code>summary()</code> to look at a few
summary stats, as well as the functions <code>head()</code> and
<code>tail()</code>, both of which are useful to show information about
the first and last rows in a dataset.</p>
<div class="sourceCode" id="cb199"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary stats</span></span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_demo)</span></code></pre></div>
<pre><code>##       plot           trt                var                 blk      
##  Min.   :101.0   Length:64          Length:64          Min.   :1.00  
##  1st Qu.:179.8   Class :character   Class :character   1st Qu.:1.75  
##  Median :258.5   Mode  :character   Mode  :character   Median :2.50  
##  Mean   :258.5                                         Mean   :2.50  
##  3rd Qu.:337.2                                         3rd Qu.:3.25  
##  Max.   :416.0                                         Max.   :4.00  
##                                                                      
##       sev              inc             yld              don         
##  Min.   : 0.000   Min.   : 0.00   Min.   : 80.30   Min.   :0.00000  
##  1st Qu.: 0.300   1st Qu.: 5.00   1st Qu.: 99.65   1st Qu.:0.00000  
##  Median : 0.775   Median :10.00   Median :106.35   Median :0.06000  
##  Mean   : 1.648   Mean   :15.86   Mean   :105.56   Mean   :0.07422  
##  3rd Qu.: 1.837   3rd Qu.:20.00   3rd Qu.:114.38   3rd Qu.:0.10000  
##  Max.   :13.300   Max.   :60.00   Max.   :123.20   Max.   :0.42000  
##                                                                     
##       fdk       
##  Min.   : 0.00  
##  1st Qu.: 4.00  
##  Median : 6.50  
##  Mean   :10.61  
##  3rd Qu.:15.50  
##  Max.   :42.00  
##  NA&#39;s   :2</code></pre>
<div class="sourceCode" id="cb201"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First lines</span></span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_demo)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 9
##    plot trt   var     blk   sev   inc   yld   don   fdk
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   107 A     R         1  1.95    35  86.6  0.11     4
## 2   109 A     R         1  1.2     20  80.3  0.15     4
## 3   204 A     R         2  0.9     20  81.1  0       42
## 4   214 A     R         2  4.05    50  85.1  0.07    25
## 5   305 A     R         3  1.1     15  84.8  0       29
## 6   316 A     R         3  1.8     10  93.7  0       24</code></pre>
<div class="sourceCode" id="cb203"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Last lines</span></span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data_demo)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 9
##    plot trt   var     blk   sev   inc   yld   don   fdk
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   207 D     S         2  0        0  113.  0.21     4
## 2   211 D     S         2  1.1     20  112.  0.07     3
## 3   309 D     S         3  1.25    10  117   0.15     8
## 4   314 D     S         3  0.75     5  117.  0.06     3
## 5   401 D     S         4  0        0  118.  0        6
## 6   413 D     S         4  0.3      5  116   0.09    10</code></pre>
<p><br></p>
<p>From these outputs, we have a good, general idea about how the data
appear. Note that for the fourth variable called <code>fdk</code>
(Fusarium damaged kernels), there are two observations which are missing
and coded as <code>NA</code>.</p>
<p>In tidyverse, especially the package <code>dplyr</code>, there are
several excellent functions that help us to work with our data. The most
important functions can be divided in four verbs: <em>filter</em>,
<em>select</em>, <em>mutate</em>, and <em>summarize</em>.</p>
<p>Prior to looking at each those, we will introduction the concept of
‘pipes’. Pipes are tools available in the <code>magrittr</code> package
which help with the work flow. Although <code>magrittr</code> contains
<a
href="https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html">four
different pipes</a>, <code>%&gt;%</code> is the most common and
automatically loaded when you use the <code>tidyverse</code> package.
What this means is that you do not need to load the package
<code>magrittr</code> to use the <code>%&gt;%</code> pipe. See the
simple example which follows to examine how we use such a concept to
examine our data.</p>
<div class="sourceCode" id="cb205"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s start with some generic data which represent values of the mycotoxin DON</span></span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a>DON <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">2.5</span>, <span class="fl">7.5</span>, <span class="dv">1</span>, <span class="fl">0.9</span>, <span class="fl">3.2</span>, <span class="fl">4.5</span>)</span>
<span id="cb205-4"><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-5"><a href="#cb205-5" aria-hidden="true" tabindex="-1"></a><span class="co"># If you want calculate the mean of the log-transformed values,  </span></span>
<span id="cb205-6"><a href="#cb205-6" aria-hidden="true" tabindex="-1"></a><span class="co"># a traditional way to do this is by creating multiple objects</span></span>
<span id="cb205-7"><a href="#cb205-7" aria-hidden="true" tabindex="-1"></a>DON_log <span class="ot">&lt;-</span> <span class="fu">log</span>(DON)</span>
<span id="cb205-8"><a href="#cb205-8" aria-hidden="true" tabindex="-1"></a>DON_log_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(DON_log)</span>
<span id="cb205-9"><a href="#cb205-9" aria-hidden="true" tabindex="-1"></a>DON_log_mean</span></code></pre></div>
<pre><code>## [1] 0.4557823</code></pre>
<div class="sourceCode" id="cb207"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Another way is to nest all of the functions in a single line</span></span>
<span id="cb207-2"><a href="#cb207-2" aria-hidden="true" tabindex="-1"></a>DON_log_nest <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">log</span>(DON))</span>
<span id="cb207-3"><a href="#cb207-3" aria-hidden="true" tabindex="-1"></a>DON_log_nest</span></code></pre></div>
<pre><code>## [1] 0.4557823</code></pre>
<div class="sourceCode" id="cb209"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Finally though, we can use a pipe which provides a logical flow to work with the data, by linking the steps of the calculation and requiring fewer objects</span></span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a>DON_log_pipe <span class="ot">&lt;-</span> DON <span class="sc">%&gt;%</span> <span class="co"># The pipe transfer the content of the left side to right function with DON as the data, followed by the transformation and calculation of the mean</span></span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">log</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(.)</span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a>DON_log_pipe</span></code></pre></div>
<pre><code>## [1] 0.4557823</code></pre>
<div id="filter" class="section level3">
<h3><strong>Filter</strong></h3>
<p>Filter is used to select rows or observations based on defined
criteria</p>
<div class="sourceCode" id="cb211"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The function filter works by defining the data source and the specific conditionn</span></span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(data_demo, <span class="fu">is.na</span>(fdk)) <span class="co"># is.na() will filter only rows where there is missing observations for fdk variable</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 9
##    plot trt   var     blk   sev   inc   yld   don   fdk
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   108 A     S         1  13.3    55  92.3  0.42    NA
## 2   110 A     S         1  12.3    50 103.   0.26    NA</code></pre>
<div class="sourceCode" id="cb213"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Works with pipes as well</span></span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span></span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">is.na</span>(fdk))</span></code></pre></div>
<pre><code>## # A tibble: 2 × 9
##    plot trt   var     blk   sev   inc   yld   don   fdk
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   108 A     S         1  13.3    55  92.3  0.42    NA
## 2   110 A     S         1  12.3    50 103.   0.26    NA</code></pre>
<p><br></p>
<p>When writing code, it is important to learn some of the important
logical operators. In our current example, we are interested in those
operators which work closely with <code>filter()</code>.</p>
<ul>
<li><code>&lt;</code>, less than</li>
<li><code>&lt;=</code>, less than or equal to</li>
<li><code>&gt;</code>, greater than</li>
<li><code>&gt;=</code>, greater than or equal to</li>
<li><code>==</code>, equal to</li>
<li><code>!=</code>, different to</li>
<li><code>!</code>x, Not x</li>
<li>x<code>|</code>y, x OR y</li>
<li>x <code>&amp;</code> y, x AND y</li>
<li><code>isTRUE(x)</code>, test if X is <code>TRUE</code></li>
<li><code>is.na(x)</code>, test if x is <code>NA</code></li>
</ul>
<p><br></p>
<p>Let’s practice a few different types of filters.</p>
<div class="sourceCode" id="cb215"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span> </span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">&quot;R&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># filter only data using the column var that is defined as R (resistant in our example)</span></span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n=</span><span class="cn">Inf</span>) <span class="co"># print all observation</span></span></code></pre></div>
<pre><code>## # A tibble: 32 × 9
##     plot trt   var     blk   sev   inc   yld   don   fdk
##    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1   107 A     R         1  1.95    35  86.6  0.11     4
##  2   109 A     R         1  1.2     20  80.3  0.15     4
##  3   204 A     R         2  0.9     20  81.1  0       42
##  4   214 A     R         2  4.05    50  85.1  0.07    25
##  5   305 A     R         3  1.1     15  84.8  0       29
##  6   316 A     R         3  1.8     10  93.7  0       24
##  7   406 A     R         4  1.4     25  84.5  0.06    37
##  8   412 A     R         4  0.45    10  84.8  0.07    42
##  9   112 B     R         1  3.1     15 105.   0        6
## 10   114 B     R         1  0.65    10 109.   0       17
## 11   209 B     R         2  1.05    20  99    0.06    25
## 12   216 B     R         2  2.1     25 104.   0.05    14
## 13   304 B     R         3  0.8     10 107.   0        8
## 14   312 B     R         3  0.45    15 104.   0       12
## 15   404 B     R         4  2.5     30 101.   0       25
## 16   407 B     R         4  2.95    25 105.   0       14
## 17   102 C     R         1  0.65    10 105.   0        0
## 18   116 C     R         1  0.3      5 107.   0.05     9
## 19   201 C     R         2  0.3     10 108.   0.07    13
## 20   206 C     R         2  0.3      5  98.3  0.05    16
## 21   302 C     R         3  1.05    20 111.   0        4
## 22   307 C     R         3  0.6     10 109.   0        7
## 23   410 C     R         4  0.3      5 110.   0.06     5
## 24   415 C     R         4  0.3     10 108.   0.05    18
## 25   103 D     R         1  0.75    15 105.   0        4
## 26   106 D     R         1  0.3      5  99.7  0.06     3
## 27   208 D     R         2  1.35    40  94.6  0.06    17
## 28   212 D     R         2  0.45    10 102.   0.08    11
## 29   310 D     R         3  0.45    10 104.   0       18
## 30   313 D     R         3  0        0 103    0.07    18
## 31   402 D     R         4  0.15     5 106.   0       11
## 32   414 D     R         4  0        0 107.   0.07    18</code></pre>
<div class="sourceCode" id="cb217"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span> </span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(var <span class="sc">==</span> <span class="st">&quot;R&quot;</span> <span class="sc">&amp;</span> trt <span class="sc">==</span> <span class="st">&quot;A&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># filter using the column var which contains R and from the column trt which contains A</span></span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n=</span><span class="cn">Inf</span>) </span></code></pre></div>
<pre><code>## # A tibble: 8 × 9
##    plot trt   var     blk   sev   inc   yld   don   fdk
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   107 A     R         1  1.95    35  86.6  0.11     4
## 2   109 A     R         1  1.2     20  80.3  0.15     4
## 3   204 A     R         2  0.9     20  81.1  0       42
## 4   214 A     R         2  4.05    50  85.1  0.07    25
## 5   305 A     R         3  1.1     15  84.8  0       29
## 6   316 A     R         3  1.8     10  93.7  0       24
## 7   406 A     R         4  1.4     25  84.5  0.06    37
## 8   412 A     R         4  0.45    10  84.8  0.07    42</code></pre>
<div class="sourceCode" id="cb219"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span> </span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sev <span class="sc">&gt;=</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span> <span class="co"># filter the column severity for all values greater than or equal to 5</span></span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n=</span><span class="cn">Inf</span>) <span class="co"># print all observation</span></span></code></pre></div>
<pre><code>## # A tibble: 5 × 9
##    plot trt   var     blk   sev   inc   yld   don   fdk
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   108 A     S         1 13.3     55  92.3  0.42    NA
## 2   110 A     S         1 12.3     50 103.   0.26    NA
## 3   213 A     S         2  5.5     60  93.4  0.2      6
## 4   306 A     S         3  5.05    45  98    0.17     5
## 5   411 A     S         4  5.65    15  99.9  0.31     7</code></pre>
<div class="sourceCode" id="cb221"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span> </span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fdk <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">|</span> don <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="co"># filter data from the column fdk less than 1 or from the column don where values are exactly equal to 0</span></span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n=</span><span class="cn">Inf</span>) </span></code></pre></div>
<pre><code>## # A tibble: 21 × 9
##     plot trt   var     blk   sev   inc   yld   don   fdk
##    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1   204 A     R         2  0.9     20  81.1  0       42
##  2   305 A     R         3  1.1     15  84.8  0       29
##  3   316 A     R         3  1.8     10  93.7  0       24
##  4   112 B     R         1  3.1     15 105.   0        6
##  5   114 B     R         1  0.65    10 109.   0       17
##  6   304 B     R         3  0.8     10 107.   0        8
##  7   312 B     R         3  0.45    15 104.   0       12
##  8   404 B     R         4  2.5     30 101.   0       25
##  9   407 B     R         4  2.95    25 105.   0       14
## 10   111 B     S         1  1.65    20 112.   0        2
## 11   102 C     R         1  0.65    10 105.   0        0
## 12   302 C     R         3  1.05    20 111.   0        4
## 13   307 C     R         3  0.6     10 109.   0        7
## 14   101 C     S         1  0.3     10 122    0.08     0
## 15   115 C     S         1  0.3      5 115.   0        1
## 16   301 C     S         3  0        0 118.   0        1
## 17   416 C     S         4  0.45    15 123.   0        4
## 18   103 D     R         1  0.75    15 105.   0        4
## 19   310 D     R         3  0.45    10 104.   0       18
## 20   402 D     R         4  0.15     5 106.   0       11
## 21   401 D     S         4  0        0 118.   0        6</code></pre>
<p><br></p>
</div>
<div id="select" class="section level3">
<h3><strong>Select</strong></h3>
<div class="sourceCode" id="cb223"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span></span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(trt, var, blk, sev, inc) <span class="co"># select multiple variables = columns</span></span></code></pre></div>
<pre><code>## # A tibble: 64 × 5
##    trt   var     blk   sev   inc
##    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 A     R         1  1.95    35
##  2 A     R         1  1.2     20
##  3 A     R         2  0.9     20
##  4 A     R         2  4.05    50
##  5 A     R         3  1.1     15
##  6 A     R         3  1.8     10
##  7 A     R         4  1.4     25
##  8 A     R         4  0.45    10
##  9 A     S         1 13.3     55
## 10 A     S         1 12.3     50
## # … with 54 more rows
## # ℹ Use `print(n = ...)` to see more rows</code></pre>
<div class="sourceCode" id="cb225"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span></span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>plot, <span class="sc">-</span>yld, <span class="sc">-</span>don, <span class="sc">-</span>fdk) <span class="co"># another way to achieve the same thing as the previous example, the &#39;-&#39; says to not select those variables</span></span></code></pre></div>
<pre><code>## # A tibble: 64 × 5
##    trt   var     blk   sev   inc
##    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 A     R         1  1.95    35
##  2 A     R         1  1.2     20
##  3 A     R         2  0.9     20
##  4 A     R         2  4.05    50
##  5 A     R         3  1.1     15
##  6 A     R         3  1.8     10
##  7 A     R         4  1.4     25
##  8 A     R         4  0.45    10
##  9 A     S         1 13.3     55
## 10 A     S         1 12.3     50
## # … with 54 more rows
## # ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
<div id="mutate" class="section level3">
<h3><strong>Mutate</strong></h3>
<div class="sourceCode" id="cb227"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span></span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sev_prop =</span> sev<span class="sc">/</span><span class="dv">100</span>, <span class="co"># transform yield and inc from a percentage to a proportion and add those columns to the database</span></span>
<span id="cb227-3"><a href="#cb227-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">inc_prop =</span> inc<span class="sc">/</span><span class="dv">100</span>) </span></code></pre></div>
<pre><code>## # A tibble: 64 × 11
##     plot trt   var     blk   sev   inc   yld   don   fdk sev_prop inc_prop
##    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1   107 A     R         1  1.95    35  86.6  0.11     4   0.0195     0.35
##  2   109 A     R         1  1.2     20  80.3  0.15     4   0.012      0.2 
##  3   204 A     R         2  0.9     20  81.1  0       42   0.009      0.2 
##  4   214 A     R         2  4.05    50  85.1  0.07    25   0.0405     0.5 
##  5   305 A     R         3  1.1     15  84.8  0       29   0.011      0.15
##  6   316 A     R         3  1.8     10  93.7  0       24   0.018      0.1 
##  7   406 A     R         4  1.4     25  84.5  0.06    37   0.014      0.25
##  8   412 A     R         4  0.45    10  84.8  0.07    42   0.0045     0.1 
##  9   108 A     S         1 13.3     55  92.3  0.42    NA   0.133      0.55
## 10   110 A     S         1 12.3     50 103.   0.26    NA   0.123      0.5 
## # … with 54 more rows
## # ℹ Use `print(n = ...)` to see more rows</code></pre>
<div class="sourceCode" id="cb229"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span></span>
<span id="cb229-2"><a href="#cb229-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yld =</span> yld<span class="sc">*</span><span class="fl">67.25</span>,  <span class="co"># to convert yield in bushels per acre to kilograms per hectare. In this case, note that we replace the original values of yld with the new values</span></span>
<span id="cb229-3"><a href="#cb229-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">trt_var =</span> <span class="fu">paste0</span>(trt, <span class="st">&quot;_&quot;</span>, var)) <span class="co"># combine two variables (trt and var) into a single variable and create a new column</span></span></code></pre></div>
<pre><code>## # A tibble: 64 × 10
##     plot trt   var     blk   sev   inc   yld   don   fdk trt_var
##    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  
##  1   107 A     R         1  1.95    35 5824.  0.11     4 A_R    
##  2   109 A     R         1  1.2     20 5400.  0.15     4 A_R    
##  3   204 A     R         2  0.9     20 5454.  0       42 A_R    
##  4   214 A     R         2  4.05    50 5723.  0.07    25 A_R    
##  5   305 A     R         3  1.1     15 5703.  0       29 A_R    
##  6   316 A     R         3  1.8     10 6301.  0       24 A_R    
##  7   406 A     R         4  1.4     25 5683.  0.06    37 A_R    
##  8   412 A     R         4  0.45    10 5703.  0.07    42 A_R    
##  9   108 A     S         1 13.3     55 6207.  0.42    NA A_S    
## 10   110 A     S         1 12.3     50 6920.  0.26    NA A_S    
## # … with 54 more rows
## # ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
<div id="summarize" class="section level3">
<h3><strong>Summarize</strong></h3>
<div class="sourceCode" id="cb231"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span></span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(trt) <span class="sc">%&gt;%</span> <span class="co"># first group the variables by the trt values</span></span>
<span id="cb231-3"><a href="#cb231-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sev =</span> <span class="fu">mean</span>(sev), <span class="co"># apply the functions mean, max (maximum) and sd (standard deviation) to create summaries by trt</span></span>
<span id="cb231-4"><a href="#cb231-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">inv =</span> <span class="fu">max</span>(inc),</span>
<span id="cb231-5"><a href="#cb231-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">yld =</span> <span class="fu">sd</span>(yld))</span></code></pre></div>
<pre><code>## # A tibble: 4 × 4
##   trt     sev   inv   yld
##   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 A     3.94     60  7.79
## 2 B     1.64     35  7.19
## 3 C     0.572    20  6.67
## 4 D     0.438    40  7.13</code></pre>
<div class="sourceCode" id="cb233"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>data_demo <span class="sc">%&gt;%</span></span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(var, trt) <span class="sc">%&gt;%</span> <span class="co"># it is possible to group multiple variables, look at the differences with the first example</span></span>
<span id="cb233-3"><a href="#cb233-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sev =</span> <span class="fu">mean</span>(sev), </span>
<span id="cb233-4"><a href="#cb233-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">inv =</span> <span class="fu">max</span>(inc),</span>
<span id="cb233-5"><a href="#cb233-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">yld =</span> <span class="fu">sd</span>(yld))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;var&#39;. You can override using the `.groups`
## argument.</code></pre>
<pre><code>## # A tibble: 8 × 5
## # Groups:   var [2]
##   var   trt     sev   inv   yld
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 R     A     1.61     50  4.07
## 2 R     B     1.7      30  3.04
## 3 R     C     0.475    20  3.94
## 4 R     D     0.431    40  3.98
## 5 S     A     6.28     60  3.79
## 6 S     B     1.58     35  4.69
## 7 S     C     0.669    15  5.72
## 8 S     D     0.444    20  2.82</code></pre>
</div>
<div id="and-more-reshape" class="section level3">
<h3><strong>And more (reshape)</strong></h3>
<div class="sourceCode" id="cb236"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For some analyses and plots, we may want to reshape our data and </span></span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a><span class="co"># we can do that using the functions pivot_longer() and pivot_wider()</span></span>
<span id="cb236-3"><a href="#cb236-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-4"><a href="#cb236-4" aria-hidden="true" tabindex="-1"></a>data_longer <span class="ot">&lt;-</span> data_demo <span class="sc">%&gt;%</span></span>
<span id="cb236-5"><a href="#cb236-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>plot) <span class="sc">%&gt;%</span>  <span class="co"># remove an extra var (= plot)</span></span>
<span id="cb236-6"><a href="#cb236-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(trt, var, blk), <span class="co"># columns that should not be reshaped as we change the database format</span></span>
<span id="cb236-7"><a href="#cb236-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;variables&quot;</span>, <span class="co"># name the new column for the variables which gathered</span></span>
<span id="cb236-8"><a href="#cb236-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;values&quot;</span>)   <span class="co"># name for the column where the data are provided </span></span>
<span id="cb236-9"><a href="#cb236-9" aria-hidden="true" tabindex="-1"></a>data_longer</span></code></pre></div>
<pre><code>## # A tibble: 320 × 5
##    trt   var     blk variables values
##    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;
##  1 A     R         1 sev         1.95
##  2 A     R         1 inc        35   
##  3 A     R         1 yld        86.6 
##  4 A     R         1 don         0.11
##  5 A     R         1 fdk         4   
##  6 A     R         1 sev         1.2 
##  7 A     R         1 inc        20   
##  8 A     R         1 yld        80.3 
##  9 A     R         1 don         0.15
## 10 A     R         1 fdk         4   
## # … with 310 more rows
## # ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
</div>
<div id="export-outputs" class="section level1">
<h1><strong>Export outputs</strong></h1>
<p>After working with your data, you probably want to create a table for
your manuscript or report. There is many packages for exporting data in
an excel file (<code>.xlsx</code>). In the following example, we will
use the packages <code>openxlsx</code>.</p>
<div class="sourceCode" id="cb238"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Export with openxlsx package</span></span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openxlsx)</span></code></pre></div>
<pre><code>## Warning: package &#39;openxlsx&#39; was built under R version 4.2.2</code></pre>
<div class="sourceCode" id="cb240"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>openxlsx<span class="sc">::</span><span class="fu">write.xlsx</span>(data_longer, <span class="co"># File that we want export</span></span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">file =</span> <span class="st">&quot;1_intro_to_R/data/intro_r/example_output.xlsx&quot;</span>, <span class="co"># location and name of our .xlsx</span></span>
<span id="cb240-3"><a href="#cb240-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">sheetName=</span><span class="st">&quot;First_example&quot;</span>, <span class="co"># name of sheet</span></span>
<span id="cb240-4"><a href="#cb240-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">append=</span><span class="cn">FALSE</span>) <span class="co"># If need to add to an existing file</span></span></code></pre></div>
<pre><code>## Warning in file.create(to[okay]): cannot create file &#39;1_intro_to_R/data/intro_r/
## example_output.xlsx&#39;, reason &#39;No such file or directory&#39;</code></pre>
<div class="sourceCode" id="cb242"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>two_data_frame <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&#39;ex_1&#39;</span> <span class="ot">=</span> data_demo, <span class="st">&#39;ex_2&#39;</span> <span class="ot">=</span> data_longer)</span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a>openxlsx<span class="sc">::</span><span class="fu">write.xlsx</span>(two_data_frame, <span class="at">file =</span> <span class="st">&quot;1_intro_to_R/data/intro_r/two_sheets.xlsx&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in file.create(to[okay]): cannot create file &#39;1_intro_to_R/data/intro_r/
## two_sheets.xlsx&#39;, reason &#39;No such file or directory&#39;</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
